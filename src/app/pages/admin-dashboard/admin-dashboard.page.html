<ion-menu contentId="admin-main" side="start">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Admin</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ion-list lines="none">
      <ion-item button (click)="selectSection('users')" [detail]="false" [class.active-item]="currentSection==='users'">
        <ion-icon name="people-outline" slot="start"></ion-icon>
        <ion-label>Usuarios</ion-label>
      </ion-item>
      <ion-item button (click)="selectSection('organizers')" [detail]="false" [class.active-item]="currentSection==='organizers'">
        <ion-icon name="briefcase-outline" slot="start"></ion-icon>
        <ion-label>Organizadores</ion-label>
      </ion-item>
      <ion-item button (click)="selectSection('events')" [detail]="false" [class.active-item]="currentSection==='events'">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label>Eventos</ion-label>
      </ion-item>
      <ion-accordion-group>
        <ion-accordion value="stadiums" [disabled]="false">
          <ion-item slot="header" button [class.active-item]="currentSection==='stadiums'">
            <ion-icon name="football-outline" slot="start"></ion-icon>
            <ion-label>Estadios</ion-label>
          </ion-item>
          <div class="submenu" slot="content">
            <ion-item button (click)="openStadiums('list')" [detail]="false">
              <ion-label>Listar</ion-label>
            </ion-item>
            <ion-item button (click)="openStadiums('create')" [detail]="false">
              <ion-label>Crear</ion-label>
            </ion-item>
          </div>
        </ion-accordion>
      </ion-accordion-group>
      <ion-item button (click)="logout()" [detail]="false">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        <ion-label>Salir</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="admin-main">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Panel de Administraci√≥n</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content fullscreen class="dashboard-content">
    <ng-container [ngSwitch]="currentSection">
      <ng-container *ngSwitchCase="'users'">
        <h2 class="section-title">Usuarios Registrados ({{ users.length }})</h2>
        <div *ngIf="users.length; else noUsers" class="cards-container">
          <app-card *ngFor="let user of users" [data]="user"></app-card>
        </div>
        <ng-template #noUsers><p>No hay usuarios registrados.</p></ng-template>
      </ng-container>
      <ng-container *ngSwitchCase="'organizers'">
        <h2 class="section-title">Organizadores Registrados ({{ organizers.length }})</h2>
        <div *ngIf="organizers.length; else noOrganizers" class="cards-container">
          <div *ngFor="let org of organizers" class="organizer-row">
            <app-card [data]="org" (verify)="verifyOrganizer($event)" (reject)="rejectOrganizer($event)"></app-card>
          </div>
        </div>
        <ng-template #noOrganizers><p>No hay organizadores registrados.</p></ng-template>
      </ng-container>
      <ng-container *ngSwitchCase="'events'">
        <h2 class="section-title">Eventos Publicados ({{ events.length }})</h2>
        <div *ngIf="events.length; else noEvents" class="cards-container">
          <app-event-card *ngFor="let event of events" [event]="event"></app-event-card>
        </div>
        <ng-template #noEvents><p>No hay eventos publicados.</p></ng-template>
      </ng-container>
      <ng-container *ngSwitchCase="'stadiums'">
        <ng-container [ngSwitch]="stadiumSubsection">
          <ng-container *ngSwitchCase="'list'">
            <app-list></app-list>
          </ng-container>
          <ng-container *ngSwitchCase="'create'">
            <app-create></app-create>
          </ng-container>
          <ng-container *ngSwitchDefault>
            <app-list></app-list>
          </ng-container>
        </ng-container>
      </ng-container>
    </ng-container>
  </ion-content>
</div>
